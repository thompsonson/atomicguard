{
  "name": "S1 Decomposed",
  "description": "Decomposed workflow with granular action pairs and targeted escalation routing. Addresses failure modes observed in backtracking experiments by routing specific error types to appropriate upstream steps.",
  "rmax": 8,
  "action_pairs": {
    "ap_classify": {
      "generator": "ClassificationGenerator",
      "guard": "classification_schema",
      "description": "Classify bug type (logic, syntax, missing_check, etc.)"
    },
    "ap_structure": {
      "generator": "StructureGenerator",
      "guard": "structure",
      "description": "Analyze project structure, imports, dependencies"
    },
    "ap_root_cause": {
      "generator": "RootCauseGenerator",
      "guard": "root_cause",
      "requires": ["ap_classify"],
      "description": "Identify root cause based on classification"
    },
    "ap_localise_issue": {
      "generator": "LocalizationGenerator",
      "guard": "localization",
      "requires": ["ap_root_cause"],
      "r_patience": 2,
      "e_max": 2,
      "escalate_feedback_to": ["ap_root_cause"],
      "description": "Locate exact files/functions containing the bug"
    },
    "ap_context_read": {
      "generator": "ContextReadGenerator",
      "guard": "context",
      "requires": ["ap_localise_issue"],
      "r_patience": 2,
      "e_max": 2,
      "escalate_feedback_to": ["ap_localise_issue"],
      "description": "Read and summarize relevant code context"
    },
    "ap_localise_tests": {
      "generator": "TestLocalizationGenerator",
      "guard": "test_localization",
      "guard_config": {
        "repo_root": "{repo_root}"
      },
      "requires": ["ap_localise_issue", "ap_structure"],
      "r_patience": 2,
      "e_max": 2,
      "escalate_feedback_to": ["ap_localise_issue", "ap_structure"],
      "description": "Locate existing test files and patterns"
    },
    "ap_fix_approach": {
      "generator": "FixApproachGenerator",
      "guard": "fix_approach",
      "requires": ["ap_root_cause", "ap_context_read", "ap_localise_issue"],
      "r_patience": 2,
      "e_max": 2,
      "escalate_feedback_to": ["ap_context_read"],
      "description": "Design the fix strategy"
    },
    "ap_impact_analysis": {
      "generator": "ImpactAnalysisGenerator",
      "guard": "impact",
      "requires": ["ap_fix_approach"],
      "r_patience": 2,
      "e_max": 1,
      "escalate_feedback_to": ["ap_fix_approach"],
      "description": "Analyze impact on other code and tests"
    },
    "ap_gen_test": {
      "generator": "TestGenerator",
      "guard": "composite",
      "guards": ["test_syntax", "test_red"],
      "requires": ["ap_fix_approach", "ap_localise_tests", "ap_impact_analysis"],
      "r_patience": 2,
      "e_max": 2,
      "escalate_feedback_to": ["ap_fix_approach"],
      "escalate_feedback_by_guard": {
        "TestSyntaxGuard": ["ap_localise_tests"],
        "TestRedGuard": ["ap_fix_approach", "ap_root_cause"]
      },
      "description": "Generate failing test (TDD red phase)"
    },
    "ap_gen_patch": {
      "generator": "PatchGenerator",
      "guard": "composite",
      "guards": ["patch", "lint", "test_green"],
      "guard_config": {
        "require_git_apply": true,
        "require_syntax_valid": true
      },
      "requires": ["ap_fix_approach", "ap_gen_test"],
      "r_patience": 3,
      "e_max": 2,
      "escalate_feedback_to": ["ap_fix_approach", "ap_gen_test"],
      "escalate_feedback_by_guard": {
        "PatchGuard": ["ap_localise_issue", "ap_context_read"],
        "LintGuard": ["ap_context_read", "ap_structure"],
        "TestGreenGuard": ["ap_fix_approach", "ap_gen_test", "ap_root_cause"]
      },
      "description": "Generate patch (TDD green phase)"
    },
    "ap_integrate_patch": {
      "generator": "PatchGenerator",
      "guard": "composite",
      "guards": ["full_eval"],
      "requires": ["ap_gen_patch", "ap_structure"],
      "r_patience": 2,
      "e_max": 2,
      "escalate_feedback_to": ["ap_gen_patch"],
      "escalate_feedback_by_guard": {
        "FullEvalGuard": ["ap_impact_analysis", "ap_gen_patch"]
      },
      "description": "Integrate and verify patch passes full eval"
    }
  }
}
